(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n(8),i=n.n(o),r=(n(15),n(16),n(17),n(2)),a=n(10),l=n(3),d=n(23),s=n(0),u=function(e){var t=e.addNewTodo,n=Object(c.useState)(""),o=Object(l.a)(n,2),i=o[0],r=o[1];return Object(s.jsx)("form",{onSubmit:function(e){e.preventDefault();var n={title:i,id:Object(d.a)(),completed:!1,isBeingEdited:!1};n.title.trim()&&t(n),r("")},children:Object(s.jsx)("input",{type:"text",value:i,onChange:function(e){e.target.value.trim()&&r(e.target.value)},className:"new-todo",placeholder:"What needs to be done?"})})},j="all",b="active",f="completed",m=n(4),O=n.n(m),h=(O.a.shape({id:O.a.string.isRequired,title:O.a.string.isRequired,completed:O.a.bool.isRequired,isBeingEdited:O.a.bool.isRequired}),function(e){var t=e.todos,n=e.clearCompleted,c=e.handleFilter,o=t.filter((function(e){return!e.completed})),i=function(e){c(e)};return Object(s.jsxs)("footer",{className:"footer",children:[Object(s.jsx)("span",{className:"todo-count",children:"".concat(o.length," items left")}),Object(s.jsxs)("ul",{className:"filters",children:[Object(s.jsx)("li",{children:Object(s.jsx)("a",{onClick:function(){return i(j)},href:"#/",children:"All"})}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{onClick:function(){return i(b)},href:"#/active",children:"Active"})}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{onClick:function(){return i(f)},href:"#/completed",children:"Completed"})})]}),Object(s.jsx)("button",{type:"button",className:"clear-completed",onClick:n,children:"Clear completed"})]})}),p=n(9),g=n.n(p),x=function(e){var t=e.todo,n=t.id,o=t.title,i=t.completed,r=t.isBeingEdited,a=e.removeItem,d=e.checkTodo,u=e.handleEditingTodo,j=e.handleEditedTodo,b=Object(c.useState)(""),f=Object(l.a)(b,2),m=f[0],O=f[1];return Object(s.jsxs)("li",{className:g()({completed:i,editing:r}),children:[Object(s.jsxs)("div",{className:"view",children:[Object(s.jsx)("input",{type:"checkbox",className:"toggle",onChange:function(){return d(n)},checked:i}),Object(s.jsx)("label",{onDoubleClick:function(){u(n)},children:o}),Object(s.jsx)("button",{type:"button",className:"destroy",onClick:function(){return a(n)}})]}),Object(s.jsx)("input",{onBlur:function(e){return t=e.target.value,void j(n,t);var t},value:m,onChange:function(e){O(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&m.trim()?j(n,m):"Escape"===e.key&&(O(o),j(n,o))},type:"text",className:"edit"})]},n)},v=function(e){var t=e.removeItem,n=e.todos,c=e.checkTodo,o=e.handleEditingTodo,i=e.handleEditedTodo;return Object(s.jsx)("ul",{className:"todo-list",children:n.map((function(e){return Object(s.jsx)(x,{removeItem:t,checkTodo:c,handleEditingTodo:o,handleEditedTodo:i,todo:e},e.id)}))})};var N=function(){var e=function(e,t){var n=Object(c.useState)((function(){try{return JSON.parse(localStorage.getItem(e))||t}catch(n){return t}})),o=Object(l.a)(n,2),i=o[0],r=o[1];return Object(c.useEffect)((function(){localStorage.setItem(e,JSON.stringify(i))}),[e,i]),[i,function(t){r(t),localStorage.setItem(e,JSON.stringify(t))}]}("todos",[]),t=Object(l.a)(e,2),n=t[0],o=t[1],i=Object(c.useState)(!1),d=Object(l.a)(i,2),m=d[0],O=d[1],p=Object(c.useState)(j),g=Object(l.a)(p,2),x=g[0],N=g[1],k=Object(c.useMemo)((function(){return function(e){switch(x){case b:return e.filter((function(e){return!e.completed}));case f:return e.filter((function(e){return e.completed}));default:return e}}(n)}),[n,x]);return Object(c.useEffect)((function(){n.every((function(e){return e.completed}))?O(!0):O(!1)}),[n]),Object(s.jsxs)("section",{className:"todoapp",children:[Object(s.jsxs)("header",{className:"header",children:[Object(s.jsx)("h1",{children:"todos"}),Object(s.jsx)(u,{addNewTodo:function(e){o((function(t){return[e].concat(Object(a.a)(t))}))}})]}),Object(s.jsxs)("section",{className:"main",children:[0===n.length&&Object(s.jsx)(s.Fragment,{}),n.length>0&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("input",{checked:m,type:"checkbox",id:"toggle-all",className:"toggle-all",onChange:function(){o(m?n.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{completed:!1})})):n.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{completed:!0})}))),O(!m)},value:m}),Object(s.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"})]}),Object(s.jsx)(v,{filter:x,handleEditedTodo:function(e,t){return t.trim()?(o(n.map((function(n){return n.id===e?Object(r.a)(Object(r.a)({},n),{},{isBeingEdited:!1,title:t}):n}))),n):n},handleEditingTodo:function(e){o(n.map((function(t){return t.id===e?Object(r.a)(Object(r.a)({},t),{},{isBeingEdited:!0}):Object(r.a)(Object(r.a)({},t),{},{isBeingEdited:!1})})))},removeItem:function(e){o(n.filter((function(t){return t.id!==e})))},checkTodo:function(e){o((function(t){return t.map((function(t){return t.id===e?Object(r.a)(Object(r.a)({},t),{},{completed:!t.completed}):t}))}))},todos:k})]}),n.length>0&&Object(s.jsx)(h,{clearCompleted:function(){o(n.filter((function(e){return!e.completed})))},todos:n,handleFilter:function(e){N(e)}})]})};i.a.render(Object(s.jsx)(N,{}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.8b6c7d71.chunk.js.map